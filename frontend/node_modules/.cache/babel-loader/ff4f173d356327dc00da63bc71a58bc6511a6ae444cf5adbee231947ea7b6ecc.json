{"ast":null,"code":"var _jsxFileName = \"/home/paq/Desktop/Projetcs/airplane/frontend/src/App.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport './App.css';\nimport ResultsPage from './ResultsPage';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  const [numberOfCities, setNumberOfCities] = useState(2);\n  const [startCity, setStartCity] = useState('');\n  const [endCity, setEndCity] = useState('');\n  const [middleCities, setMiddleCities] = useState([]);\n  const [totalDays, setTotalDays] = useState(0);\n  const [startDate, setStartDate] = useState('');\n  const [endDate, setEndDate] = useState('');\n  const [adults, setAdults] = useState(1);\n  const [children, setChildren] = useState(0);\n  const [infants, setInfants] = useState(0);\n  const [currentPage, setCurrentPage] = useState('search');\n  const [searchData, setSearchData] = useState(null);\n  const [isLoading, setIsLoading] = useState(false);\n  const [startCitySuggestions, setStartCitySuggestions] = useState([]);\n  const [endCitySuggestions, setEndCitySuggestions] = useState([]);\n  const [middleCitySuggestions, setMiddleCitySuggestions] = useState([[]]);\n  const startCityTimeoutRef = useRef(null);\n  const endCityTimeoutRef = useRef(null);\n  const middleCityTimeoutRefs = useRef({});\n  const API_BASE = process.env.REACT_APP_API_URL || 'http://localhost:8000';\n  const fetchCitySuggestions = async query => {\n    if (query.length < 2) return [];\n    try {\n      const response = await fetch(`${API_BASE}/api/city-suggestions?query=${encodeURIComponent(query)}`);\n      if (response.ok) {\n        const data = await response.json();\n        return data.suggestions || [];\n      }\n    } catch (error) {\n      console.error('Error fetching city suggestions:', error);\n    }\n    return [];\n  };\n  useEffect(() => {\n    const middleCitiesCount = Math.max(0, numberOfCities - 2);\n    if (middleCitiesCount > middleCities.length) {\n      const newMiddleCities = [...middleCities];\n      while (newMiddleCities.length < middleCitiesCount) {\n        newMiddleCities.push({\n          name: '',\n          days: 0\n        });\n      }\n      setMiddleCities(newMiddleCities);\n      setMiddleCitySuggestions(prev => {\n        const newSuggestions = [...prev];\n        while (newSuggestions.length < middleCitiesCount) {\n          newSuggestions.push([]);\n        }\n        return newSuggestions;\n      });\n    } else if (middleCitiesCount < middleCities.length) {\n      setMiddleCities(middleCities.slice(0, middleCitiesCount));\n      setMiddleCitySuggestions(prev => prev.slice(0, middleCitiesCount));\n    }\n  }, [numberOfCities, middleCities.length, middleCities]);\n  useEffect(() => {\n    const total = middleCities.reduce((sum, city) => sum + city.days, 0);\n    setTotalDays(total);\n    if (startDate && total > 0) {\n      const start = new Date(startDate);\n      const end = new Date(start);\n      end.setDate(start.getDate() + total);\n      setEndDate(end.toISOString().split('T')[0]);\n    }\n  }, [middleCities, startDate]);\n  const handleStartCityChange = async value => {\n    setStartCity(value);\n    if (startCityTimeoutRef.current) {\n      clearTimeout(startCityTimeoutRef.current);\n    }\n    if (value.length < 2) {\n      setStartCitySuggestions([]);\n      return;\n    }\n    startCityTimeoutRef.current = setTimeout(async () => {\n      const suggestions = await fetchCitySuggestions(value);\n      setStartCitySuggestions(suggestions);\n    }, 300);\n  };\n  const handleEndCityChange = async value => {\n    setEndCity(value);\n    if (endCityTimeoutRef.current) {\n      clearTimeout(endCityTimeoutRef.current);\n    }\n    if (value.length < 2) {\n      setEndCitySuggestions([]);\n      return;\n    }\n    endCityTimeoutRef.current = setTimeout(async () => {\n      const suggestions = await fetchCitySuggestions(value);\n      setEndCitySuggestions(suggestions);\n    }, 300);\n  };\n  const handleMiddleCityChange = async (value, index) => {\n    const newMiddleCities = [...middleCities];\n    newMiddleCities[index].name = value;\n    setMiddleCities(newMiddleCities);\n    if (middleCityTimeoutRefs.current[index]) {\n      clearTimeout(middleCityTimeoutRefs.current[index]);\n      middleCityTimeoutRefs.current[index] = null;\n    }\n    if (value.length < 2) {\n      const newSuggestions = [...middleCitySuggestions];\n      newSuggestions[index] = [];\n      setMiddleCitySuggestions(newSuggestions);\n      return;\n    }\n    middleCityTimeoutRefs.current[index] = setTimeout(async () => {\n      const suggestions = await fetchCitySuggestions(value);\n      const newSuggestions = [...middleCitySuggestions];\n      newSuggestions[index] = suggestions;\n      setMiddleCitySuggestions(newSuggestions);\n    }, 300);\n  };\n  const handleMiddleDaysChange = (days, index) => {\n    const newMiddleCities = [...middleCities];\n    newMiddleCities[index].days = days;\n    setMiddleCities(newMiddleCities);\n  };\n  const selectCity = (city, type, index) => {\n    if (type === 'start') {\n      setStartCity(city);\n      setStartCitySuggestions([]);\n    } else if (type === 'end') {\n      setEndCity(city);\n      setEndCitySuggestions([]);\n    } else if (type === 'middle' && index !== undefined) {\n      const newMiddleCities = [...middleCities];\n      newMiddleCities[index].name = city;\n      setMiddleCities(newMiddleCities);\n      const newSuggestions = [...middleCitySuggestions];\n      newSuggestions[index] = [];\n      setMiddleCitySuggestions(newSuggestions);\n    }\n  };\n  const extractIataCode = displayText => {\n    const match = displayText.match(/\\(([A-Z]{3})\\)/);\n    return match ? match[1] : displayText;\n  };\n  const handleStartDateChange = date => {\n    setStartDate(date);\n    if (date && numberOfCities === 2) {\n      setEndDate(date);\n    } else if (date && totalDays > 0) {\n      const start = new Date(date);\n      const end = new Date(start);\n      end.setDate(start.getDate() + totalDays);\n      setEndDate(end.toISOString().split('T')[0]);\n    }\n  };\n  const getMinDate = () => {\n    return new Date().toISOString().split('T')[0];\n  };\n  const getMaxDate = () => {\n    const maxDate = new Date();\n    maxDate.setFullYear(maxDate.getFullYear() + 1);\n    return maxDate.toISOString().split('T')[0];\n  };\n  const handleSearch = async () => {\n    if (!startCity || !endCity) {\n      alert('Please enter both start and end cities');\n      return;\n    }\n    if (numberOfCities > 2 && totalDays === 0) {\n      alert('Please set stay durations for your middle cities');\n      return;\n    }\n    if (!startDate || !endDate) {\n      alert('Please select your travel dates');\n      return;\n    }\n    if (numberOfCities > 2) {\n      const start = new Date(startDate);\n      const end = new Date(endDate);\n      const actualDays = Math.ceil((end.getTime() - start.getTime()) / (1000 * 60 * 60 * 24));\n      if (actualDays !== totalDays) {\n        alert(`Date range (${actualDays} days) must match total trip days (${totalDays} days)`);\n        return;\n      }\n    }\n    const processedStartCity = extractIataCode(startCity);\n    const processedEndCity = extractIataCode(endCity);\n    const processedMiddleCities = middleCities.filter(city => city.name.trim() !== '').map(city => ({\n      ...city,\n      name: extractIataCode(city.name)\n    }));\n    const data = {\n      startCity: processedStartCity,\n      endCity: processedEndCity,\n      middleCities: processedMiddleCities,\n      totalDays: numberOfCities === 2 ? 0 : totalDays,\n      startDate,\n      endDate,\n      adults,\n      children,\n      infants\n    };\n    setIsLoading(true);\n    try {\n      const response = await fetch(`${API_BASE}/optimize`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          start_city: processedStartCity,\n          end_city: processedEndCity,\n          middle_cities: processedMiddleCities,\n          total_days: numberOfCities === 2 ? 0 : totalDays,\n          start_date: startDate,\n          end_date: endDate,\n          adults: adults,\n          children: children,\n          infants: infants\n        })\n      });\n      const apiResults = await response.json();\n      setSearchData({\n        ...data,\n        apiResults: apiResults\n      });\n      setCurrentPage('results');\n    } catch (error) {\n      console.error('Error calling API:', error);\n      setSearchData({\n        ...data,\n        apiResults: []\n      });\n      setCurrentPage('results');\n    } finally {\n      setIsLoading(false);\n    }\n  };\n  useEffect(() => {\n    return () => {\n      if (startCityTimeoutRef.current) {\n        clearTimeout(startCityTimeoutRef.current);\n      }\n      if (endCityTimeoutRef.current) {\n        clearTimeout(endCityTimeoutRef.current);\n      }\n      Object.values(middleCityTimeoutRefs.current).forEach(timeout => {\n        if (timeout) {\n          clearTimeout(timeout);\n        }\n      });\n    };\n  }, []);\n  if (currentPage === 'results' && searchData) {\n    return /*#__PURE__*/_jsxDEV(ResultsPage, {\n      searchData: searchData,\n      onNewSearch: () => setCurrentPage('search')\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 315,\n      columnNumber: 12\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"header\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"logo\",\n        children: \"Airplane\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 321,\n        columnNumber: 9\n      }, this), isLoading && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"loading-notice\",\n        children: \"Finding optimal routes...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 323,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 320,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"search-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Find Your Optimal Travel Route\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 330,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"search-row\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"input-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Total Cities\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 334,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            value: numberOfCities,\n            onChange: e => setNumberOfCities(Number(e.target.value)),\n            children: [2, 3, 4, 5, 6].map(num => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: num,\n              children: [num, \" cities\"]\n            }, num, true, {\n              fileName: _jsxFileName,\n              lineNumber: 340,\n              columnNumber: 17\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 335,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 333,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"input-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Start City\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 346,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"autocomplete-container\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              placeholder: \"e.g., London\",\n              value: startCity,\n              onChange: e => handleStartCityChange(e.target.value),\n              disabled: isLoading\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 348,\n              columnNumber: 15\n            }, this), startCitySuggestions.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"suggestions-dropdown\",\n              children: startCitySuggestions.map((city, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"suggestion-item\",\n                onClick: () => selectCity(city, 'start'),\n                children: city\n              }, index, false, {\n                fileName: _jsxFileName,\n                lineNumber: 358,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 356,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 347,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 345,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"input-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"End City\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 372,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"autocomplete-container\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              placeholder: \"e.g., Paris\",\n              value: endCity,\n              onChange: e => handleEndCityChange(e.target.value),\n              disabled: isLoading\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 374,\n              columnNumber: 15\n            }, this), endCitySuggestions.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"suggestions-dropdown\",\n              children: endCitySuggestions.map((city, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"suggestion-item\",\n                onClick: () => selectCity(city, 'end'),\n                children: city\n              }, index, false, {\n                fileName: _jsxFileName,\n                lineNumber: 384,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 382,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 373,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 371,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 332,\n        columnNumber: 9\n      }, this), numberOfCities > 2 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"search-row\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"input-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Cities Between & Stay Duration\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 401,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"cities-container\",\n            children: middleCities.map((city, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"city-with-days\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"autocomplete-container\",\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  placeholder: `City ${index + 1}`,\n                  value: city.name,\n                  onChange: e => handleMiddleCityChange(e.target.value, index),\n                  disabled: isLoading\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 406,\n                  columnNumber: 23\n                }, this), middleCitySuggestions[index] && middleCitySuggestions[index].length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"suggestions-dropdown\",\n                  children: middleCitySuggestions[index].map((cityName, cityIndex) => /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"suggestion-item\",\n                    onClick: () => selectCity(cityName, 'middle', index),\n                    children: cityName\n                  }, cityIndex, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 416,\n                    columnNumber: 29\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 414,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 405,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"days-input\",\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"number\",\n                  min: \"0\",\n                  max: \"30\",\n                  value: city.days,\n                  onChange: e => handleMiddleDaysChange(Number(e.target.value), index),\n                  className: \"number-input small\",\n                  disabled: isLoading\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 428,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"days\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 437,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 427,\n                columnNumber: 21\n              }, this)]\n            }, index, true, {\n              fileName: _jsxFileName,\n              lineNumber: 404,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 402,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"total-days\",\n            children: [\"Total trip days: \", /*#__PURE__*/_jsxDEV(\"strong\", {\n              children: totalDays\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 443,\n              columnNumber: 34\n            }, this), totalDays === 0 && /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"warning\",\n              children: \" (Set days for each city)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 444,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 442,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 400,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 399,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"search-row\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"input-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Start Date\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 452,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"date\",\n            value: startDate,\n            onChange: e => handleStartDateChange(e.target.value),\n            min: getMinDate(),\n            max: getMaxDate(),\n            disabled: isLoading\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 453,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 451,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"input-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"End Date\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 464,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"date\",\n            value: endDate,\n            onChange: e => setEndDate(e.target.value),\n            min: startDate || getMinDate(),\n            max: getMaxDate(),\n            readOnly: numberOfCities > 2,\n            disabled: isLoading\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 465,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"date-info\",\n            children: numberOfCities === 2 ? 'Direct flight (same day)' : totalDays > 0 ? `${totalDays} days total` : 'Set days first'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 474,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 463,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"input-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Passengers\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 481,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"passenger-selectors\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"passenger-type\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Adults:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 484,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                value: adults,\n                onChange: e => setAdults(Number(e.target.value)),\n                disabled: isLoading,\n                children: [1, 2, 3, 4, 5, 6, 7, 8].map(num => /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: num,\n                  children: num\n                }, num, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 487,\n                  columnNumber: 21\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 485,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 483,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"passenger-type\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Children:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 492,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                value: children,\n                onChange: e => setChildren(Number(e.target.value)),\n                disabled: isLoading,\n                children: [0, 1, 2, 3, 4, 5, 6].map(num => /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: num,\n                  children: num\n                }, num, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 495,\n                  columnNumber: 21\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 493,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 491,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"passenger-type\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Infants:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 500,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                value: infants,\n                onChange: e => setInfants(Number(e.target.value)),\n                disabled: isLoading,\n                children: [0, 1, 2, 3].map(num => /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: num,\n                  children: num\n                }, num, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 503,\n                  columnNumber: 21\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 501,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 499,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 482,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 480,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: `search-button ${isLoading ? 'disabled' : ''}`,\n          onClick: handleSearch,\n          disabled: isLoading,\n          children: isLoading ? 'Finding Routes...' : 'Find Optimal Route'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 510,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 450,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 329,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 319,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"xzsLsEt4iyxL/jJwgnFUBJAp9bQ=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","useRef","ResultsPage","jsxDEV","_jsxDEV","App","_s","numberOfCities","setNumberOfCities","startCity","setStartCity","endCity","setEndCity","middleCities","setMiddleCities","totalDays","setTotalDays","startDate","setStartDate","endDate","setEndDate","adults","setAdults","children","setChildren","infants","setInfants","currentPage","setCurrentPage","searchData","setSearchData","isLoading","setIsLoading","startCitySuggestions","setStartCitySuggestions","endCitySuggestions","setEndCitySuggestions","middleCitySuggestions","setMiddleCitySuggestions","startCityTimeoutRef","endCityTimeoutRef","middleCityTimeoutRefs","API_BASE","process","env","REACT_APP_API_URL","fetchCitySuggestions","query","length","response","fetch","encodeURIComponent","ok","data","json","suggestions","error","console","middleCitiesCount","Math","max","newMiddleCities","push","name","days","prev","newSuggestions","slice","total","reduce","sum","city","start","Date","end","setDate","getDate","toISOString","split","handleStartCityChange","value","current","clearTimeout","setTimeout","handleEndCityChange","handleMiddleCityChange","index","handleMiddleDaysChange","selectCity","type","undefined","extractIataCode","displayText","match","handleStartDateChange","date","getMinDate","getMaxDate","maxDate","setFullYear","getFullYear","handleSearch","alert","actualDays","ceil","getTime","processedStartCity","processedEndCity","processedMiddleCities","filter","trim","map","method","headers","body","JSON","stringify","start_city","end_city","middle_cities","total_days","start_date","end_date","apiResults","Object","values","forEach","timeout","onNewSearch","fileName","_jsxFileName","lineNumber","columnNumber","className","onChange","e","Number","target","num","placeholder","disabled","onClick","cityName","cityIndex","min","readOnly","_c","$RefreshReg$"],"sources":["/home/paq/Desktop/Projetcs/airplane/frontend/src/App.tsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport './App.css';\nimport ResultsPage from './ResultsPage';\n\ninterface CityWithDays {\n  name: string;\n  days: number;\n}\n\ninterface SearchData {\n  startCity: string;\n  endCity: string;\n  middleCities: CityWithDays[];\n  totalDays: number;\n  startDate: string;\n  endDate: string;\n  adults: number;\n  children: number;\n  infants: number;\n  apiResults?: any[];\n}\n\nfunction App() {\n  const [numberOfCities, setNumberOfCities] = useState(2);\n  const [startCity, setStartCity] = useState('');\n  const [endCity, setEndCity] = useState('');\n  const [middleCities, setMiddleCities] = useState<CityWithDays[]>([]);\n  const [totalDays, setTotalDays] = useState(0);\n  const [startDate, setStartDate] = useState('');\n  const [endDate, setEndDate] = useState('');\n  const [adults, setAdults] = useState(1);\n  const [children, setChildren] = useState(0);\n  const [infants, setInfants] = useState(0);\n     \n  const [currentPage, setCurrentPage] = useState<'search' | 'results'>('search');\n  const [searchData, setSearchData] = useState<SearchData | null>(null);\n  const [isLoading, setIsLoading] = useState(false);\n\n  const [startCitySuggestions, setStartCitySuggestions] = useState<string[]>([]);\n  const [endCitySuggestions, setEndCitySuggestions] = useState<string[]>([]);\n  const [middleCitySuggestions, setMiddleCitySuggestions] = useState<string[][]>([[]]);\n  \n  const startCityTimeoutRef = useRef<NodeJS.Timeout | null>(null);\n  const endCityTimeoutRef = useRef<NodeJS.Timeout | null>(null);\n  const middleCityTimeoutRefs = useRef<{[key: number]: NodeJS.Timeout | null}>({});\n\n  const API_BASE = process.env.REACT_APP_API_URL || 'http://localhost:8000';\n\n  const fetchCitySuggestions = async (query: string): Promise<string[]> => {\n    if (query.length < 2) return [];\n    \n    try {\n      const response = await fetch(`${API_BASE}/api/city-suggestions?query=${encodeURIComponent(query)}`);\n      if (response.ok) {\n        const data = await response.json();\n        return data.suggestions || [];\n      }\n    } catch (error) {\n      console.error('Error fetching city suggestions:', error);\n    }\n    return [];\n  };\n\n  useEffect(() => {\n    const middleCitiesCount = Math.max(0, numberOfCities - 2);\n    if (middleCitiesCount > middleCities.length) {\n      const newMiddleCities = [...middleCities];\n      while (newMiddleCities.length < middleCitiesCount) {\n        newMiddleCities.push({ name: '', days: 0 });\n      }\n      setMiddleCities(newMiddleCities);\n      setMiddleCitySuggestions(prev => {\n        const newSuggestions = [...prev];\n        while (newSuggestions.length < middleCitiesCount) {\n          newSuggestions.push([]);\n        }\n        return newSuggestions;\n      });\n    } else if (middleCitiesCount < middleCities.length) {\n      setMiddleCities(middleCities.slice(0, middleCitiesCount));\n      setMiddleCitySuggestions(prev => prev.slice(0, middleCitiesCount));\n    }\n  }, [numberOfCities, middleCities.length, middleCities]);\n     \n  useEffect(() => {\n    const total = middleCities.reduce((sum, city) => sum + city.days, 0);\n    setTotalDays(total);\n    \n    if (startDate && total > 0) {\n      const start = new Date(startDate);\n      const end = new Date(start);\n      end.setDate(start.getDate() + total);\n      setEndDate(end.toISOString().split('T')[0]);\n    }\n  }, [middleCities, startDate]);\n\n  const handleStartCityChange = async (value: string) => {\n    setStartCity(value);\n    \n    if (startCityTimeoutRef.current) {\n      clearTimeout(startCityTimeoutRef.current);\n    }\n    \n    if (value.length < 2) {\n      setStartCitySuggestions([]);\n      return;\n    }\n    \n    startCityTimeoutRef.current = setTimeout(async () => {\n      const suggestions = await fetchCitySuggestions(value);\n      setStartCitySuggestions(suggestions);\n    }, 300);\n  };\n\n  const handleEndCityChange = async (value: string) => {\n    setEndCity(value);\n    \n    if (endCityTimeoutRef.current) {\n      clearTimeout(endCityTimeoutRef.current);\n    }\n    \n    if (value.length < 2) {\n      setEndCitySuggestions([]);\n      return;\n    }\n    \n    endCityTimeoutRef.current = setTimeout(async () => {\n      const suggestions = await fetchCitySuggestions(value);\n      setEndCitySuggestions(suggestions);\n    }, 300);\n  };\n\n  const handleMiddleCityChange = async (value: string, index: number) => {\n    const newMiddleCities = [...middleCities];\n    newMiddleCities[index].name = value;\n    setMiddleCities(newMiddleCities);\n\n    if (middleCityTimeoutRefs.current[index]) {\n      clearTimeout(middleCityTimeoutRefs.current[index]!);\n      middleCityTimeoutRefs.current[index] = null;\n    }\n    \n    if (value.length < 2) {\n      const newSuggestions = [...middleCitySuggestions];\n      newSuggestions[index] = [];\n      setMiddleCitySuggestions(newSuggestions);\n      return;\n    }\n    \n    middleCityTimeoutRefs.current[index] = setTimeout(async () => {\n      const suggestions = await fetchCitySuggestions(value);\n      const newSuggestions = [...middleCitySuggestions];\n      newSuggestions[index] = suggestions;\n      setMiddleCitySuggestions(newSuggestions);\n    }, 300);\n  };\n\n  const handleMiddleDaysChange = (days: number, index: number) => {\n    const newMiddleCities = [...middleCities];\n    newMiddleCities[index].days = days;\n    setMiddleCities(newMiddleCities);\n  };\n\n  const selectCity = (city: string, type: 'start' | 'end' | 'middle', index?: number) => {\n    if (type === 'start') {\n      setStartCity(city);\n      setStartCitySuggestions([]);\n    } else if (type === 'end') {\n      setEndCity(city);\n      setEndCitySuggestions([]);\n    } else if (type === 'middle' && index !== undefined) {\n      const newMiddleCities = [...middleCities];\n      newMiddleCities[index].name = city;\n      setMiddleCities(newMiddleCities);\n      \n      const newSuggestions = [...middleCitySuggestions];\n      newSuggestions[index] = [];\n      setMiddleCitySuggestions(newSuggestions);\n    }\n  };\n\n  const extractIataCode = (displayText: string): string => {\n    const match = displayText.match(/\\(([A-Z]{3})\\)/);\n    return match ? match[1] : displayText;\n  };\n\n  const handleStartDateChange = (date: string) => {\n    setStartDate(date);\n    if (date && numberOfCities === 2) {\n      setEndDate(date);\n    } else if (date && totalDays > 0) {\n      const start = new Date(date);\n      const end = new Date(start);\n      end.setDate(start.getDate() + totalDays);\n      setEndDate(end.toISOString().split('T')[0]);\n    }\n  };\n\n  const getMinDate = () => {\n    return new Date().toISOString().split('T')[0];\n  };\n\n  const getMaxDate = () => {\n    const maxDate = new Date();\n    maxDate.setFullYear(maxDate.getFullYear() + 1);\n    return maxDate.toISOString().split('T')[0];\n  };\n\n  const handleSearch = async () => {\n    if (!startCity || !endCity) {\n      alert('Please enter both start and end cities');\n      return;\n    }\n\n    if (numberOfCities > 2 && totalDays === 0) {\n      alert('Please set stay durations for your middle cities');\n      return;\n    }\n\n    if (!startDate || !endDate) {\n      alert('Please select your travel dates');\n      return;\n    }\n\n    if (numberOfCities > 2) {\n      const start = new Date(startDate);\n      const end = new Date(endDate);\n      const actualDays = Math.ceil((end.getTime() - start.getTime()) / (1000 * 60 * 60 * 24));\n      \n      if (actualDays !== totalDays) {\n        alert(`Date range (${actualDays} days) must match total trip days (${totalDays} days)`);\n        return;\n      }\n    }\n\n    const processedStartCity = extractIataCode(startCity);\n    const processedEndCity = extractIataCode(endCity);\n    const processedMiddleCities = middleCities\n      .filter(city => city.name.trim() !== '')\n      .map(city => ({\n        ...city,\n        name: extractIataCode(city.name)\n      }));\n\n    const data: SearchData = {\n      startCity: processedStartCity,\n      endCity: processedEndCity,\n      middleCities: processedMiddleCities,\n      totalDays: numberOfCities === 2 ? 0 : totalDays,\n      startDate,\n      endDate,\n      adults,\n      children,\n      infants\n    };\n    \n    setIsLoading(true);\n    \n    try {\n      const response = await fetch(`${API_BASE}/optimize`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({\n          start_city: processedStartCity,\n          end_city: processedEndCity,\n          middle_cities: processedMiddleCities,\n          total_days: numberOfCities === 2 ? 0 : totalDays,\n          start_date: startDate,\n          end_date: endDate,\n          adults: adults,\n          children: children,\n          infants: infants\n        })\n      });\n      \n      const apiResults = await response.json();\n      \n      setSearchData({\n        ...data,\n        apiResults: apiResults\n      });\n      setCurrentPage('results');\n      \n    } catch (error) {\n      console.error('Error calling API:', error);\n      setSearchData({\n        ...data,\n        apiResults: []\n      });\n      setCurrentPage('results');\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    return () => {\n      if (startCityTimeoutRef.current) {\n        clearTimeout(startCityTimeoutRef.current);\n      }\n      if (endCityTimeoutRef.current) {\n        clearTimeout(endCityTimeoutRef.current);\n      }\n      Object.values(middleCityTimeoutRefs.current).forEach(timeout => {\n        if (timeout) {\n          clearTimeout(timeout);\n        }\n      });\n    };\n  }, []);\n\n  if (currentPage === 'results' && searchData) {\n    return <ResultsPage searchData={searchData} onNewSearch={() => setCurrentPage('search')} />;\n  }\n\n  return (\n    <div className=\"App\">\n      <header className=\"header\">\n        <div className=\"logo\">Airplane</div>\n        {isLoading && (\n          <div className=\"loading-notice\">\n            Finding optimal routes...\n          </div>\n        )}\n      </header>\n\n      <div className=\"search-container\">\n        <h2>Find Your Optimal Travel Route</h2>\n        \n        <div className=\"search-row\">\n          <div className=\"input-group\">\n            <label>Total Cities</label>\n            <select \n              value={numberOfCities} \n              onChange={(e) => setNumberOfCities(Number(e.target.value))}\n            >\n              {[2, 3, 4, 5, 6].map(num => (\n                <option key={num} value={num}>{num} cities</option>\n              ))}\n            </select>\n          </div>\n\n          <div className=\"input-group\">\n            <label>Start City</label>\n            <div className=\"autocomplete-container\">\n              <input \n                type=\"text\" \n                placeholder=\"e.g., London\"\n                value={startCity}\n                onChange={(e) => handleStartCityChange(e.target.value)}\n                disabled={isLoading}\n              />\n              {startCitySuggestions.length > 0 && (\n                <div className=\"suggestions-dropdown\">\n                  {startCitySuggestions.map((city, index) => (\n                    <div \n                      key={index} \n                      className=\"suggestion-item\"\n                      onClick={() => selectCity(city, 'start')}\n                    >\n                      {city}\n                    </div>\n                  ))}\n                </div>\n              )}\n            </div>\n          </div>\n\n          <div className=\"input-group\">\n            <label>End City</label>\n            <div className=\"autocomplete-container\">\n              <input \n                type=\"text\" \n                placeholder=\"e.g., Paris\" \n                value={endCity}\n                onChange={(e) => handleEndCityChange(e.target.value)}\n                disabled={isLoading}\n              />\n              {endCitySuggestions.length > 0 && (\n                <div className=\"suggestions-dropdown\">\n                  {endCitySuggestions.map((city, index) => (\n                    <div \n                      key={index} \n                      className=\"suggestion-item\"\n                      onClick={() => selectCity(city, 'end')}\n                    >\n                      {city}\n                    </div>\n                  ))}\n                </div>\n              )}\n            </div>\n          </div>\n        </div>\n\n        {numberOfCities > 2 && (\n          <div className=\"search-row\">\n            <div className=\"input-group\">\n              <label>Cities Between & Stay Duration</label>\n              <div className=\"cities-container\">\n                {middleCities.map((city, index) => (\n                  <div key={index} className=\"city-with-days\">\n                    <div className=\"autocomplete-container\">\n                      <input \n                        type=\"text\" \n                        placeholder={`City ${index + 1}`}\n                        value={city.name}\n                        onChange={(e) => handleMiddleCityChange(e.target.value, index)}\n                        disabled={isLoading}\n                      />\n                      {middleCitySuggestions[index] && middleCitySuggestions[index].length > 0 && (\n                        <div className=\"suggestions-dropdown\">\n                          {middleCitySuggestions[index].map((cityName, cityIndex) => (\n                            <div \n                              key={cityIndex} \n                              className=\"suggestion-item\"\n                              onClick={() => selectCity(cityName, 'middle', index)}\n                            >\n                              {cityName}\n                            </div>\n                          ))}\n                        </div>\n                      )}\n                    </div>\n                    <div className=\"days-input\">\n                      <input\n                        type=\"number\"\n                        min=\"0\"\n                        max=\"30\"\n                        value={city.days}\n                        onChange={(e) => handleMiddleDaysChange(Number(e.target.value), index)}\n                        className=\"number-input small\"\n                        disabled={isLoading}\n                      />\n                      <span>days</span>\n                    </div>\n                  </div>\n                ))}\n              </div>\n              <div className=\"total-days\">\n                Total trip days: <strong>{totalDays}</strong>\n                {totalDays === 0 && <span className=\"warning\"> (Set days for each city)</span>}\n              </div>\n            </div>\n          </div>\n        )}\n\n        <div className=\"search-row\">\n          <div className=\"input-group\">\n            <label>Start Date</label>\n            <input \n              type=\"date\" \n              value={startDate}\n              onChange={(e) => handleStartDateChange(e.target.value)}\n              min={getMinDate()}\n              max={getMaxDate()}\n              disabled={isLoading}\n            />\n          </div>\n\n          <div className=\"input-group\">\n            <label>End Date</label>\n            <input \n              type=\"date\" \n              value={endDate}\n              onChange={(e) => setEndDate(e.target.value)}\n              min={startDate || getMinDate()}\n              max={getMaxDate()}\n              readOnly={numberOfCities > 2}\n              disabled={isLoading}\n            />\n            <div className=\"date-info\">\n              {numberOfCities === 2 ? 'Direct flight (same day)' : \n               totalDays > 0 ? `${totalDays} days total` : 'Set days first'}\n            </div>\n          </div>\n\n          <div className=\"input-group\">\n            <label>Passengers</label>\n            <div className=\"passenger-selectors\">\n              <div className=\"passenger-type\">\n                <span>Adults:</span>\n                <select value={adults} onChange={(e) => setAdults(Number(e.target.value))} disabled={isLoading}>\n                  {[1, 2, 3, 4, 5, 6, 7, 8].map(num => (\n                    <option key={num} value={num}>{num}</option>\n                  ))}\n                </select>\n              </div>\n              <div className=\"passenger-type\">\n                <span>Children:</span>\n                <select value={children} onChange={(e) => setChildren(Number(e.target.value))} disabled={isLoading}>\n                  {[0, 1, 2, 3, 4, 5, 6].map(num => (\n                    <option key={num} value={num}>{num}</option>\n                  ))}\n                </select>\n              </div>\n              <div className=\"passenger-type\">\n                <span>Infants:</span>\n                <select value={infants} onChange={(e) => setInfants(Number(e.target.value))} disabled={isLoading}>\n                  {[0, 1, 2, 3].map(num => (\n                    <option key={num} value={num}>{num}</option>\n                  ))}\n                </select>\n              </div>\n            </div>\n          </div>\n\n          <button \n            className={`search-button ${isLoading ? 'disabled' : ''}`} \n            onClick={handleSearch}\n            disabled={isLoading}\n          >\n            {isLoading ? 'Finding Routes...' : 'Find Optimal Route'}\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default App;"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,EAAEC,MAAM,QAAQ,OAAO;AAC1D,OAAO,WAAW;AAClB,OAAOC,WAAW,MAAM,eAAe;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAoBxC,SAASC,GAAGA,CAAA,EAAG;EAAAC,EAAA;EACb,MAAM,CAACC,cAAc,EAAEC,iBAAiB,CAAC,GAAGT,QAAQ,CAAC,CAAC,CAAC;EACvD,MAAM,CAACU,SAAS,EAAEC,YAAY,CAAC,GAAGX,QAAQ,CAAC,EAAE,CAAC;EAC9C,MAAM,CAACY,OAAO,EAAEC,UAAU,CAAC,GAAGb,QAAQ,CAAC,EAAE,CAAC;EAC1C,MAAM,CAACc,YAAY,EAAEC,eAAe,CAAC,GAAGf,QAAQ,CAAiB,EAAE,CAAC;EACpE,MAAM,CAACgB,SAAS,EAAEC,YAAY,CAAC,GAAGjB,QAAQ,CAAC,CAAC,CAAC;EAC7C,MAAM,CAACkB,SAAS,EAAEC,YAAY,CAAC,GAAGnB,QAAQ,CAAC,EAAE,CAAC;EAC9C,MAAM,CAACoB,OAAO,EAAEC,UAAU,CAAC,GAAGrB,QAAQ,CAAC,EAAE,CAAC;EAC1C,MAAM,CAACsB,MAAM,EAAEC,SAAS,CAAC,GAAGvB,QAAQ,CAAC,CAAC,CAAC;EACvC,MAAM,CAACwB,QAAQ,EAAEC,WAAW,CAAC,GAAGzB,QAAQ,CAAC,CAAC,CAAC;EAC3C,MAAM,CAAC0B,OAAO,EAAEC,UAAU,CAAC,GAAG3B,QAAQ,CAAC,CAAC,CAAC;EAEzC,MAAM,CAAC4B,WAAW,EAAEC,cAAc,CAAC,GAAG7B,QAAQ,CAAuB,QAAQ,CAAC;EAC9E,MAAM,CAAC8B,UAAU,EAAEC,aAAa,CAAC,GAAG/B,QAAQ,CAAoB,IAAI,CAAC;EACrE,MAAM,CAACgC,SAAS,EAAEC,YAAY,CAAC,GAAGjC,QAAQ,CAAC,KAAK,CAAC;EAEjD,MAAM,CAACkC,oBAAoB,EAAEC,uBAAuB,CAAC,GAAGnC,QAAQ,CAAW,EAAE,CAAC;EAC9E,MAAM,CAACoC,kBAAkB,EAAEC,qBAAqB,CAAC,GAAGrC,QAAQ,CAAW,EAAE,CAAC;EAC1E,MAAM,CAACsC,qBAAqB,EAAEC,wBAAwB,CAAC,GAAGvC,QAAQ,CAAa,CAAC,EAAE,CAAC,CAAC;EAEpF,MAAMwC,mBAAmB,GAAGtC,MAAM,CAAwB,IAAI,CAAC;EAC/D,MAAMuC,iBAAiB,GAAGvC,MAAM,CAAwB,IAAI,CAAC;EAC7D,MAAMwC,qBAAqB,GAAGxC,MAAM,CAAyC,CAAC,CAAC,CAAC;EAEhF,MAAMyC,QAAQ,GAAGC,OAAO,CAACC,GAAG,CAACC,iBAAiB,IAAI,uBAAuB;EAEzE,MAAMC,oBAAoB,GAAG,MAAOC,KAAa,IAAwB;IACvE,IAAIA,KAAK,CAACC,MAAM,GAAG,CAAC,EAAE,OAAO,EAAE;IAE/B,IAAI;MACF,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAC,GAAGR,QAAQ,+BAA+BS,kBAAkB,CAACJ,KAAK,CAAC,EAAE,CAAC;MACnG,IAAIE,QAAQ,CAACG,EAAE,EAAE;QACf,MAAMC,IAAI,GAAG,MAAMJ,QAAQ,CAACK,IAAI,CAAC,CAAC;QAClC,OAAOD,IAAI,CAACE,WAAW,IAAI,EAAE;MAC/B;IACF,CAAC,CAAC,OAAOC,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,kCAAkC,EAAEA,KAAK,CAAC;IAC1D;IACA,OAAO,EAAE;EACX,CAAC;EAEDxD,SAAS,CAAC,MAAM;IACd,MAAM0D,iBAAiB,GAAGC,IAAI,CAACC,GAAG,CAAC,CAAC,EAAErD,cAAc,GAAG,CAAC,CAAC;IACzD,IAAImD,iBAAiB,GAAG7C,YAAY,CAACmC,MAAM,EAAE;MAC3C,MAAMa,eAAe,GAAG,CAAC,GAAGhD,YAAY,CAAC;MACzC,OAAOgD,eAAe,CAACb,MAAM,GAAGU,iBAAiB,EAAE;QACjDG,eAAe,CAACC,IAAI,CAAC;UAAEC,IAAI,EAAE,EAAE;UAAEC,IAAI,EAAE;QAAE,CAAC,CAAC;MAC7C;MACAlD,eAAe,CAAC+C,eAAe,CAAC;MAChCvB,wBAAwB,CAAC2B,IAAI,IAAI;QAC/B,MAAMC,cAAc,GAAG,CAAC,GAAGD,IAAI,CAAC;QAChC,OAAOC,cAAc,CAAClB,MAAM,GAAGU,iBAAiB,EAAE;UAChDQ,cAAc,CAACJ,IAAI,CAAC,EAAE,CAAC;QACzB;QACA,OAAOI,cAAc;MACvB,CAAC,CAAC;IACJ,CAAC,MAAM,IAAIR,iBAAiB,GAAG7C,YAAY,CAACmC,MAAM,EAAE;MAClDlC,eAAe,CAACD,YAAY,CAACsD,KAAK,CAAC,CAAC,EAAET,iBAAiB,CAAC,CAAC;MACzDpB,wBAAwB,CAAC2B,IAAI,IAAIA,IAAI,CAACE,KAAK,CAAC,CAAC,EAAET,iBAAiB,CAAC,CAAC;IACpE;EACF,CAAC,EAAE,CAACnD,cAAc,EAAEM,YAAY,CAACmC,MAAM,EAAEnC,YAAY,CAAC,CAAC;EAEvDb,SAAS,CAAC,MAAM;IACd,MAAMoE,KAAK,GAAGvD,YAAY,CAACwD,MAAM,CAAC,CAACC,GAAG,EAAEC,IAAI,KAAKD,GAAG,GAAGC,IAAI,CAACP,IAAI,EAAE,CAAC,CAAC;IACpEhD,YAAY,CAACoD,KAAK,CAAC;IAEnB,IAAInD,SAAS,IAAImD,KAAK,GAAG,CAAC,EAAE;MAC1B,MAAMI,KAAK,GAAG,IAAIC,IAAI,CAACxD,SAAS,CAAC;MACjC,MAAMyD,GAAG,GAAG,IAAID,IAAI,CAACD,KAAK,CAAC;MAC3BE,GAAG,CAACC,OAAO,CAACH,KAAK,CAACI,OAAO,CAAC,CAAC,GAAGR,KAAK,CAAC;MACpChD,UAAU,CAACsD,GAAG,CAACG,WAAW,CAAC,CAAC,CAACC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;IAC7C;EACF,CAAC,EAAE,CAACjE,YAAY,EAAEI,SAAS,CAAC,CAAC;EAE7B,MAAM8D,qBAAqB,GAAG,MAAOC,KAAa,IAAK;IACrDtE,YAAY,CAACsE,KAAK,CAAC;IAEnB,IAAIzC,mBAAmB,CAAC0C,OAAO,EAAE;MAC/BC,YAAY,CAAC3C,mBAAmB,CAAC0C,OAAO,CAAC;IAC3C;IAEA,IAAID,KAAK,CAAChC,MAAM,GAAG,CAAC,EAAE;MACpBd,uBAAuB,CAAC,EAAE,CAAC;MAC3B;IACF;IAEAK,mBAAmB,CAAC0C,OAAO,GAAGE,UAAU,CAAC,YAAY;MACnD,MAAM5B,WAAW,GAAG,MAAMT,oBAAoB,CAACkC,KAAK,CAAC;MACrD9C,uBAAuB,CAACqB,WAAW,CAAC;IACtC,CAAC,EAAE,GAAG,CAAC;EACT,CAAC;EAED,MAAM6B,mBAAmB,GAAG,MAAOJ,KAAa,IAAK;IACnDpE,UAAU,CAACoE,KAAK,CAAC;IAEjB,IAAIxC,iBAAiB,CAACyC,OAAO,EAAE;MAC7BC,YAAY,CAAC1C,iBAAiB,CAACyC,OAAO,CAAC;IACzC;IAEA,IAAID,KAAK,CAAChC,MAAM,GAAG,CAAC,EAAE;MACpBZ,qBAAqB,CAAC,EAAE,CAAC;MACzB;IACF;IAEAI,iBAAiB,CAACyC,OAAO,GAAGE,UAAU,CAAC,YAAY;MACjD,MAAM5B,WAAW,GAAG,MAAMT,oBAAoB,CAACkC,KAAK,CAAC;MACrD5C,qBAAqB,CAACmB,WAAW,CAAC;IACpC,CAAC,EAAE,GAAG,CAAC;EACT,CAAC;EAED,MAAM8B,sBAAsB,GAAG,MAAAA,CAAOL,KAAa,EAAEM,KAAa,KAAK;IACrE,MAAMzB,eAAe,GAAG,CAAC,GAAGhD,YAAY,CAAC;IACzCgD,eAAe,CAACyB,KAAK,CAAC,CAACvB,IAAI,GAAGiB,KAAK;IACnClE,eAAe,CAAC+C,eAAe,CAAC;IAEhC,IAAIpB,qBAAqB,CAACwC,OAAO,CAACK,KAAK,CAAC,EAAE;MACxCJ,YAAY,CAACzC,qBAAqB,CAACwC,OAAO,CAACK,KAAK,CAAE,CAAC;MACnD7C,qBAAqB,CAACwC,OAAO,CAACK,KAAK,CAAC,GAAG,IAAI;IAC7C;IAEA,IAAIN,KAAK,CAAChC,MAAM,GAAG,CAAC,EAAE;MACpB,MAAMkB,cAAc,GAAG,CAAC,GAAG7B,qBAAqB,CAAC;MACjD6B,cAAc,CAACoB,KAAK,CAAC,GAAG,EAAE;MAC1BhD,wBAAwB,CAAC4B,cAAc,CAAC;MACxC;IACF;IAEAzB,qBAAqB,CAACwC,OAAO,CAACK,KAAK,CAAC,GAAGH,UAAU,CAAC,YAAY;MAC5D,MAAM5B,WAAW,GAAG,MAAMT,oBAAoB,CAACkC,KAAK,CAAC;MACrD,MAAMd,cAAc,GAAG,CAAC,GAAG7B,qBAAqB,CAAC;MACjD6B,cAAc,CAACoB,KAAK,CAAC,GAAG/B,WAAW;MACnCjB,wBAAwB,CAAC4B,cAAc,CAAC;IAC1C,CAAC,EAAE,GAAG,CAAC;EACT,CAAC;EAED,MAAMqB,sBAAsB,GAAGA,CAACvB,IAAY,EAAEsB,KAAa,KAAK;IAC9D,MAAMzB,eAAe,GAAG,CAAC,GAAGhD,YAAY,CAAC;IACzCgD,eAAe,CAACyB,KAAK,CAAC,CAACtB,IAAI,GAAGA,IAAI;IAClClD,eAAe,CAAC+C,eAAe,CAAC;EAClC,CAAC;EAED,MAAM2B,UAAU,GAAGA,CAACjB,IAAY,EAAEkB,IAAgC,EAAEH,KAAc,KAAK;IACrF,IAAIG,IAAI,KAAK,OAAO,EAAE;MACpB/E,YAAY,CAAC6D,IAAI,CAAC;MAClBrC,uBAAuB,CAAC,EAAE,CAAC;IAC7B,CAAC,MAAM,IAAIuD,IAAI,KAAK,KAAK,EAAE;MACzB7E,UAAU,CAAC2D,IAAI,CAAC;MAChBnC,qBAAqB,CAAC,EAAE,CAAC;IAC3B,CAAC,MAAM,IAAIqD,IAAI,KAAK,QAAQ,IAAIH,KAAK,KAAKI,SAAS,EAAE;MACnD,MAAM7B,eAAe,GAAG,CAAC,GAAGhD,YAAY,CAAC;MACzCgD,eAAe,CAACyB,KAAK,CAAC,CAACvB,IAAI,GAAGQ,IAAI;MAClCzD,eAAe,CAAC+C,eAAe,CAAC;MAEhC,MAAMK,cAAc,GAAG,CAAC,GAAG7B,qBAAqB,CAAC;MACjD6B,cAAc,CAACoB,KAAK,CAAC,GAAG,EAAE;MAC1BhD,wBAAwB,CAAC4B,cAAc,CAAC;IAC1C;EACF,CAAC;EAED,MAAMyB,eAAe,GAAIC,WAAmB,IAAa;IACvD,MAAMC,KAAK,GAAGD,WAAW,CAACC,KAAK,CAAC,gBAAgB,CAAC;IACjD,OAAOA,KAAK,GAAGA,KAAK,CAAC,CAAC,CAAC,GAAGD,WAAW;EACvC,CAAC;EAED,MAAME,qBAAqB,GAAIC,IAAY,IAAK;IAC9C7E,YAAY,CAAC6E,IAAI,CAAC;IAClB,IAAIA,IAAI,IAAIxF,cAAc,KAAK,CAAC,EAAE;MAChCa,UAAU,CAAC2E,IAAI,CAAC;IAClB,CAAC,MAAM,IAAIA,IAAI,IAAIhF,SAAS,GAAG,CAAC,EAAE;MAChC,MAAMyD,KAAK,GAAG,IAAIC,IAAI,CAACsB,IAAI,CAAC;MAC5B,MAAMrB,GAAG,GAAG,IAAID,IAAI,CAACD,KAAK,CAAC;MAC3BE,GAAG,CAACC,OAAO,CAACH,KAAK,CAACI,OAAO,CAAC,CAAC,GAAG7D,SAAS,CAAC;MACxCK,UAAU,CAACsD,GAAG,CAACG,WAAW,CAAC,CAAC,CAACC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;IAC7C;EACF,CAAC;EAED,MAAMkB,UAAU,GAAGA,CAAA,KAAM;IACvB,OAAO,IAAIvB,IAAI,CAAC,CAAC,CAACI,WAAW,CAAC,CAAC,CAACC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;EAC/C,CAAC;EAED,MAAMmB,UAAU,GAAGA,CAAA,KAAM;IACvB,MAAMC,OAAO,GAAG,IAAIzB,IAAI,CAAC,CAAC;IAC1ByB,OAAO,CAACC,WAAW,CAACD,OAAO,CAACE,WAAW,CAAC,CAAC,GAAG,CAAC,CAAC;IAC9C,OAAOF,OAAO,CAACrB,WAAW,CAAC,CAAC,CAACC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;EAC5C,CAAC;EAED,MAAMuB,YAAY,GAAG,MAAAA,CAAA,KAAY;IAC/B,IAAI,CAAC5F,SAAS,IAAI,CAACE,OAAO,EAAE;MAC1B2F,KAAK,CAAC,wCAAwC,CAAC;MAC/C;IACF;IAEA,IAAI/F,cAAc,GAAG,CAAC,IAAIQ,SAAS,KAAK,CAAC,EAAE;MACzCuF,KAAK,CAAC,kDAAkD,CAAC;MACzD;IACF;IAEA,IAAI,CAACrF,SAAS,IAAI,CAACE,OAAO,EAAE;MAC1BmF,KAAK,CAAC,iCAAiC,CAAC;MACxC;IACF;IAEA,IAAI/F,cAAc,GAAG,CAAC,EAAE;MACtB,MAAMiE,KAAK,GAAG,IAAIC,IAAI,CAACxD,SAAS,CAAC;MACjC,MAAMyD,GAAG,GAAG,IAAID,IAAI,CAACtD,OAAO,CAAC;MAC7B,MAAMoF,UAAU,GAAG5C,IAAI,CAAC6C,IAAI,CAAC,CAAC9B,GAAG,CAAC+B,OAAO,CAAC,CAAC,GAAGjC,KAAK,CAACiC,OAAO,CAAC,CAAC,KAAK,IAAI,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,CAAC,CAAC;MAEvF,IAAIF,UAAU,KAAKxF,SAAS,EAAE;QAC5BuF,KAAK,CAAC,eAAeC,UAAU,sCAAsCxF,SAAS,QAAQ,CAAC;QACvF;MACF;IACF;IAEA,MAAM2F,kBAAkB,GAAGf,eAAe,CAAClF,SAAS,CAAC;IACrD,MAAMkG,gBAAgB,GAAGhB,eAAe,CAAChF,OAAO,CAAC;IACjD,MAAMiG,qBAAqB,GAAG/F,YAAY,CACvCgG,MAAM,CAACtC,IAAI,IAAIA,IAAI,CAACR,IAAI,CAAC+C,IAAI,CAAC,CAAC,KAAK,EAAE,CAAC,CACvCC,GAAG,CAACxC,IAAI,KAAK;MACZ,GAAGA,IAAI;MACPR,IAAI,EAAE4B,eAAe,CAACpB,IAAI,CAACR,IAAI;IACjC,CAAC,CAAC,CAAC;IAEL,MAAMV,IAAgB,GAAG;MACvB5C,SAAS,EAAEiG,kBAAkB;MAC7B/F,OAAO,EAAEgG,gBAAgB;MACzB9F,YAAY,EAAE+F,qBAAqB;MACnC7F,SAAS,EAAER,cAAc,KAAK,CAAC,GAAG,CAAC,GAAGQ,SAAS;MAC/CE,SAAS;MACTE,OAAO;MACPE,MAAM;MACNE,QAAQ;MACRE;IACF,CAAC;IAEDO,YAAY,CAAC,IAAI,CAAC;IAElB,IAAI;MACF,MAAMiB,QAAQ,GAAG,MAAMC,KAAK,CAAC,GAAGR,QAAQ,WAAW,EAAE;QACnDsE,MAAM,EAAE,MAAM;QACdC,OAAO,EAAE;UACP,cAAc,EAAE;QAClB,CAAC;QACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;UACnBC,UAAU,EAAEX,kBAAkB;UAC9BY,QAAQ,EAAEX,gBAAgB;UAC1BY,aAAa,EAAEX,qBAAqB;UACpCY,UAAU,EAAEjH,cAAc,KAAK,CAAC,GAAG,CAAC,GAAGQ,SAAS;UAChD0G,UAAU,EAAExG,SAAS;UACrByG,QAAQ,EAAEvG,OAAO;UACjBE,MAAM,EAAEA,MAAM;UACdE,QAAQ,EAAEA,QAAQ;UAClBE,OAAO,EAAEA;QACX,CAAC;MACH,CAAC,CAAC;MAEF,MAAMkG,UAAU,GAAG,MAAM1E,QAAQ,CAACK,IAAI,CAAC,CAAC;MAExCxB,aAAa,CAAC;QACZ,GAAGuB,IAAI;QACPsE,UAAU,EAAEA;MACd,CAAC,CAAC;MACF/F,cAAc,CAAC,SAAS,CAAC;IAE3B,CAAC,CAAC,OAAO4B,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,oBAAoB,EAAEA,KAAK,CAAC;MAC1C1B,aAAa,CAAC;QACZ,GAAGuB,IAAI;QACPsE,UAAU,EAAE;MACd,CAAC,CAAC;MACF/F,cAAc,CAAC,SAAS,CAAC;IAC3B,CAAC,SAAS;MACRI,YAAY,CAAC,KAAK,CAAC;IACrB;EACF,CAAC;EAEDhC,SAAS,CAAC,MAAM;IACd,OAAO,MAAM;MACX,IAAIuC,mBAAmB,CAAC0C,OAAO,EAAE;QAC/BC,YAAY,CAAC3C,mBAAmB,CAAC0C,OAAO,CAAC;MAC3C;MACA,IAAIzC,iBAAiB,CAACyC,OAAO,EAAE;QAC7BC,YAAY,CAAC1C,iBAAiB,CAACyC,OAAO,CAAC;MACzC;MACA2C,MAAM,CAACC,MAAM,CAACpF,qBAAqB,CAACwC,OAAO,CAAC,CAAC6C,OAAO,CAACC,OAAO,IAAI;QAC9D,IAAIA,OAAO,EAAE;UACX7C,YAAY,CAAC6C,OAAO,CAAC;QACvB;MACF,CAAC,CAAC;IACJ,CAAC;EACH,CAAC,EAAE,EAAE,CAAC;EAEN,IAAIpG,WAAW,KAAK,SAAS,IAAIE,UAAU,EAAE;IAC3C,oBAAOzB,OAAA,CAACF,WAAW;MAAC2B,UAAU,EAAEA,UAAW;MAACmG,WAAW,EAAEA,CAAA,KAAMpG,cAAc,CAAC,QAAQ;IAAE;MAAAqG,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC;EAC7F;EAEA,oBACEhI,OAAA;IAAKiI,SAAS,EAAC,KAAK;IAAA9G,QAAA,gBAClBnB,OAAA;MAAQiI,SAAS,EAAC,QAAQ;MAAA9G,QAAA,gBACxBnB,OAAA;QAAKiI,SAAS,EAAC,MAAM;QAAA9G,QAAA,EAAC;MAAQ;QAAA0G,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAK,CAAC,EACnCrG,SAAS,iBACR3B,OAAA;QAAKiI,SAAS,EAAC,gBAAgB;QAAA9G,QAAA,EAAC;MAEhC;QAAA0G,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAK,CACN;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACK,CAAC,eAEThI,OAAA;MAAKiI,SAAS,EAAC,kBAAkB;MAAA9G,QAAA,gBAC/BnB,OAAA;QAAAmB,QAAA,EAAI;MAA8B;QAAA0G,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eAEvChI,OAAA;QAAKiI,SAAS,EAAC,YAAY;QAAA9G,QAAA,gBACzBnB,OAAA;UAAKiI,SAAS,EAAC,aAAa;UAAA9G,QAAA,gBAC1BnB,OAAA;YAAAmB,QAAA,EAAO;UAAY;YAAA0G,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC,eAC3BhI,OAAA;YACE4E,KAAK,EAAEzE,cAAe;YACtB+H,QAAQ,EAAGC,CAAC,IAAK/H,iBAAiB,CAACgI,MAAM,CAACD,CAAC,CAACE,MAAM,CAACzD,KAAK,CAAC,CAAE;YAAAzD,QAAA,EAE1D,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAACwF,GAAG,CAAC2B,GAAG,iBACtBtI,OAAA;cAAkB4E,KAAK,EAAE0D,GAAI;cAAAnH,QAAA,GAAEmH,GAAG,EAAC,SAAO;YAAA,GAA7BA,GAAG;cAAAT,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAkC,CACnD;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACI,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACN,CAAC,eAENhI,OAAA;UAAKiI,SAAS,EAAC,aAAa;UAAA9G,QAAA,gBAC1BnB,OAAA;YAAAmB,QAAA,EAAO;UAAU;YAAA0G,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC,eACzBhI,OAAA;YAAKiI,SAAS,EAAC,wBAAwB;YAAA9G,QAAA,gBACrCnB,OAAA;cACEqF,IAAI,EAAC,MAAM;cACXkD,WAAW,EAAC,cAAc;cAC1B3D,KAAK,EAAEvE,SAAU;cACjB6H,QAAQ,EAAGC,CAAC,IAAKxD,qBAAqB,CAACwD,CAAC,CAACE,MAAM,CAACzD,KAAK,CAAE;cACvD4D,QAAQ,EAAE7G;YAAU;cAAAkG,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACrB,CAAC,EACDnG,oBAAoB,CAACe,MAAM,GAAG,CAAC,iBAC9B5C,OAAA;cAAKiI,SAAS,EAAC,sBAAsB;cAAA9G,QAAA,EAClCU,oBAAoB,CAAC8E,GAAG,CAAC,CAACxC,IAAI,EAAEe,KAAK,kBACpClF,OAAA;gBAEEiI,SAAS,EAAC,iBAAiB;gBAC3BQ,OAAO,EAAEA,CAAA,KAAMrD,UAAU,CAACjB,IAAI,EAAE,OAAO,CAAE;gBAAAhD,QAAA,EAExCgD;cAAI,GAJAe,KAAK;gBAAA2C,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAKP,CACN;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACC,CACN;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACE,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC,eAENhI,OAAA;UAAKiI,SAAS,EAAC,aAAa;UAAA9G,QAAA,gBAC1BnB,OAAA;YAAAmB,QAAA,EAAO;UAAQ;YAAA0G,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC,eACvBhI,OAAA;YAAKiI,SAAS,EAAC,wBAAwB;YAAA9G,QAAA,gBACrCnB,OAAA;cACEqF,IAAI,EAAC,MAAM;cACXkD,WAAW,EAAC,aAAa;cACzB3D,KAAK,EAAErE,OAAQ;cACf2H,QAAQ,EAAGC,CAAC,IAAKnD,mBAAmB,CAACmD,CAAC,CAACE,MAAM,CAACzD,KAAK,CAAE;cACrD4D,QAAQ,EAAE7G;YAAU;cAAAkG,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACrB,CAAC,EACDjG,kBAAkB,CAACa,MAAM,GAAG,CAAC,iBAC5B5C,OAAA;cAAKiI,SAAS,EAAC,sBAAsB;cAAA9G,QAAA,EAClCY,kBAAkB,CAAC4E,GAAG,CAAC,CAACxC,IAAI,EAAEe,KAAK,kBAClClF,OAAA;gBAEEiI,SAAS,EAAC,iBAAiB;gBAC3BQ,OAAO,EAAEA,CAAA,KAAMrD,UAAU,CAACjB,IAAI,EAAE,KAAK,CAAE;gBAAAhD,QAAA,EAEtCgD;cAAI,GAJAe,KAAK;gBAAA2C,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAKP,CACN;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACC,CACN;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACE,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC,EAEL7H,cAAc,GAAG,CAAC,iBACjBH,OAAA;QAAKiI,SAAS,EAAC,YAAY;QAAA9G,QAAA,eACzBnB,OAAA;UAAKiI,SAAS,EAAC,aAAa;UAAA9G,QAAA,gBAC1BnB,OAAA;YAAAmB,QAAA,EAAO;UAA8B;YAAA0G,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC,eAC7ChI,OAAA;YAAKiI,SAAS,EAAC,kBAAkB;YAAA9G,QAAA,EAC9BV,YAAY,CAACkG,GAAG,CAAC,CAACxC,IAAI,EAAEe,KAAK,kBAC5BlF,OAAA;cAAiBiI,SAAS,EAAC,gBAAgB;cAAA9G,QAAA,gBACzCnB,OAAA;gBAAKiI,SAAS,EAAC,wBAAwB;gBAAA9G,QAAA,gBACrCnB,OAAA;kBACEqF,IAAI,EAAC,MAAM;kBACXkD,WAAW,EAAE,QAAQrD,KAAK,GAAG,CAAC,EAAG;kBACjCN,KAAK,EAAET,IAAI,CAACR,IAAK;kBACjBuE,QAAQ,EAAGC,CAAC,IAAKlD,sBAAsB,CAACkD,CAAC,CAACE,MAAM,CAACzD,KAAK,EAAEM,KAAK,CAAE;kBAC/DsD,QAAQ,EAAE7G;gBAAU;kBAAAkG,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACrB,CAAC,EACD/F,qBAAqB,CAACiD,KAAK,CAAC,IAAIjD,qBAAqB,CAACiD,KAAK,CAAC,CAACtC,MAAM,GAAG,CAAC,iBACtE5C,OAAA;kBAAKiI,SAAS,EAAC,sBAAsB;kBAAA9G,QAAA,EAClCc,qBAAqB,CAACiD,KAAK,CAAC,CAACyB,GAAG,CAAC,CAAC+B,QAAQ,EAAEC,SAAS,kBACpD3I,OAAA;oBAEEiI,SAAS,EAAC,iBAAiB;oBAC3BQ,OAAO,EAAEA,CAAA,KAAMrD,UAAU,CAACsD,QAAQ,EAAE,QAAQ,EAAExD,KAAK,CAAE;oBAAA/D,QAAA,EAEpDuH;kBAAQ,GAJJC,SAAS;oBAAAd,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAKX,CACN;gBAAC;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACC,CACN;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACE,CAAC,eACNhI,OAAA;gBAAKiI,SAAS,EAAC,YAAY;gBAAA9G,QAAA,gBACzBnB,OAAA;kBACEqF,IAAI,EAAC,QAAQ;kBACbuD,GAAG,EAAC,GAAG;kBACPpF,GAAG,EAAC,IAAI;kBACRoB,KAAK,EAAET,IAAI,CAACP,IAAK;kBACjBsE,QAAQ,EAAGC,CAAC,IAAKhD,sBAAsB,CAACiD,MAAM,CAACD,CAAC,CAACE,MAAM,CAACzD,KAAK,CAAC,EAAEM,KAAK,CAAE;kBACvE+C,SAAS,EAAC,oBAAoB;kBAC9BO,QAAQ,EAAE7G;gBAAU;kBAAAkG,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACrB,CAAC,eACFhI,OAAA;kBAAAmB,QAAA,EAAM;gBAAI;kBAAA0G,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAM,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACd,CAAC;YAAA,GAlCE9C,KAAK;cAAA2C,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAmCV,CACN;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACC,CAAC,eACNhI,OAAA;YAAKiI,SAAS,EAAC,YAAY;YAAA9G,QAAA,GAAC,mBACT,eAAAnB,OAAA;cAAAmB,QAAA,EAASR;YAAS;cAAAkH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAS,CAAC,EAC5CrH,SAAS,KAAK,CAAC,iBAAIX,OAAA;cAAMiI,SAAS,EAAC,SAAS;cAAA9G,QAAA,EAAC;YAAyB;cAAA0G,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC3E,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CACN,eAEDhI,OAAA;QAAKiI,SAAS,EAAC,YAAY;QAAA9G,QAAA,gBACzBnB,OAAA;UAAKiI,SAAS,EAAC,aAAa;UAAA9G,QAAA,gBAC1BnB,OAAA;YAAAmB,QAAA,EAAO;UAAU;YAAA0G,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC,eACzBhI,OAAA;YACEqF,IAAI,EAAC,MAAM;YACXT,KAAK,EAAE/D,SAAU;YACjBqH,QAAQ,EAAGC,CAAC,IAAKzC,qBAAqB,CAACyC,CAAC,CAACE,MAAM,CAACzD,KAAK,CAAE;YACvDgE,GAAG,EAAEhD,UAAU,CAAC,CAAE;YAClBpC,GAAG,EAAEqC,UAAU,CAAC,CAAE;YAClB2C,QAAQ,EAAE7G;UAAU;YAAAkG,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACrB,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACC,CAAC,eAENhI,OAAA;UAAKiI,SAAS,EAAC,aAAa;UAAA9G,QAAA,gBAC1BnB,OAAA;YAAAmB,QAAA,EAAO;UAAQ;YAAA0G,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC,eACvBhI,OAAA;YACEqF,IAAI,EAAC,MAAM;YACXT,KAAK,EAAE7D,OAAQ;YACfmH,QAAQ,EAAGC,CAAC,IAAKnH,UAAU,CAACmH,CAAC,CAACE,MAAM,CAACzD,KAAK,CAAE;YAC5CgE,GAAG,EAAE/H,SAAS,IAAI+E,UAAU,CAAC,CAAE;YAC/BpC,GAAG,EAAEqC,UAAU,CAAC,CAAE;YAClBgD,QAAQ,EAAE1I,cAAc,GAAG,CAAE;YAC7BqI,QAAQ,EAAE7G;UAAU;YAAAkG,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACrB,CAAC,eACFhI,OAAA;YAAKiI,SAAS,EAAC,WAAW;YAAA9G,QAAA,EACvBhB,cAAc,KAAK,CAAC,GAAG,0BAA0B,GACjDQ,SAAS,GAAG,CAAC,GAAG,GAAGA,SAAS,aAAa,GAAG;UAAgB;YAAAkH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC1D,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC,eAENhI,OAAA;UAAKiI,SAAS,EAAC,aAAa;UAAA9G,QAAA,gBAC1BnB,OAAA;YAAAmB,QAAA,EAAO;UAAU;YAAA0G,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC,eACzBhI,OAAA;YAAKiI,SAAS,EAAC,qBAAqB;YAAA9G,QAAA,gBAClCnB,OAAA;cAAKiI,SAAS,EAAC,gBAAgB;cAAA9G,QAAA,gBAC7BnB,OAAA;gBAAAmB,QAAA,EAAM;cAAO;gBAAA0G,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAM,CAAC,eACpBhI,OAAA;gBAAQ4E,KAAK,EAAE3D,MAAO;gBAACiH,QAAQ,EAAGC,CAAC,IAAKjH,SAAS,CAACkH,MAAM,CAACD,CAAC,CAACE,MAAM,CAACzD,KAAK,CAAC,CAAE;gBAAC4D,QAAQ,EAAE7G,SAAU;gBAAAR,QAAA,EAC5F,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAACwF,GAAG,CAAC2B,GAAG,iBAC/BtI,OAAA;kBAAkB4E,KAAK,EAAE0D,GAAI;kBAAAnH,QAAA,EAAEmH;gBAAG,GAArBA,GAAG;kBAAAT,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAA2B,CAC5C;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACI,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACN,CAAC,eACNhI,OAAA;cAAKiI,SAAS,EAAC,gBAAgB;cAAA9G,QAAA,gBAC7BnB,OAAA;gBAAAmB,QAAA,EAAM;cAAS;gBAAA0G,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAM,CAAC,eACtBhI,OAAA;gBAAQ4E,KAAK,EAAEzD,QAAS;gBAAC+G,QAAQ,EAAGC,CAAC,IAAK/G,WAAW,CAACgH,MAAM,CAACD,CAAC,CAACE,MAAM,CAACzD,KAAK,CAAC,CAAE;gBAAC4D,QAAQ,EAAE7G,SAAU;gBAAAR,QAAA,EAChG,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAACwF,GAAG,CAAC2B,GAAG,iBAC5BtI,OAAA;kBAAkB4E,KAAK,EAAE0D,GAAI;kBAAAnH,QAAA,EAAEmH;gBAAG,GAArBA,GAAG;kBAAAT,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAA2B,CAC5C;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACI,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACN,CAAC,eACNhI,OAAA;cAAKiI,SAAS,EAAC,gBAAgB;cAAA9G,QAAA,gBAC7BnB,OAAA;gBAAAmB,QAAA,EAAM;cAAQ;gBAAA0G,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAM,CAAC,eACrBhI,OAAA;gBAAQ4E,KAAK,EAAEvD,OAAQ;gBAAC6G,QAAQ,EAAGC,CAAC,IAAK7G,UAAU,CAAC8G,MAAM,CAACD,CAAC,CAACE,MAAM,CAACzD,KAAK,CAAC,CAAE;gBAAC4D,QAAQ,EAAE7G,SAAU;gBAAAR,QAAA,EAC9F,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAACwF,GAAG,CAAC2B,GAAG,iBACnBtI,OAAA;kBAAkB4E,KAAK,EAAE0D,GAAI;kBAAAnH,QAAA,EAAEmH;gBAAG,GAArBA,GAAG;kBAAAT,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAA2B,CAC5C;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACI,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACN,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC,eAENhI,OAAA;UACEiI,SAAS,EAAE,iBAAiBtG,SAAS,GAAG,UAAU,GAAG,EAAE,EAAG;UAC1D8G,OAAO,EAAExC,YAAa;UACtBuC,QAAQ,EAAE7G,SAAU;UAAAR,QAAA,EAEnBQ,SAAS,GAAG,mBAAmB,GAAG;QAAoB;UAAAkG,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACjD,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACN,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEV;AAAC9H,EAAA,CAlfQD,GAAG;AAAA6I,EAAA,GAAH7I,GAAG;AAofZ,eAAeA,GAAG;AAAC,IAAA6I,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}