{"ast":null,"code":"var _jsxFileName = \"/home/paq/Desktop/Projetcs/airplane/frontend/src/App.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport './App.css';\nimport ResultsPage from './ResultsPage';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  const [numberOfCities, setNumberOfCities] = useState(2);\n  const [startCity, setStartCity] = useState('');\n  const [endCity, setEndCity] = useState('');\n  const [middleCities, setMiddleCities] = useState([]);\n  const [totalDays, setTotalDays] = useState(0);\n  const [startDate, setStartDate] = useState('');\n  const [endDate, setEndDate] = useState('');\n  const [adults, setAdults] = useState(1);\n  const [children, setChildren] = useState(0);\n  const [infants, setInfants] = useState(0);\n  const [currentPage, setCurrentPage] = useState('search');\n  const [searchData, setSearchData] = useState(null);\n  const [isLoading, setIsLoading] = useState(false);\n  const [startCitySuggestions, setStartCitySuggestions] = useState([]);\n  const [endCitySuggestions, setEndCitySuggestions] = useState([]);\n  const [middleCitySuggestions, setMiddleCitySuggestions] = useState([[]]);\n  const startCityTimeoutRef = useRef(null);\n  const endCityTimeoutRef = useRef(null);\n  const middleCityTimeoutRefs = useRef({});\n  const fetchCitySuggestions = async query => {\n    if (query.length < 2) return [];\n    try {\n      const response = await fetch(`http://localhost:8000/api/city-suggestions?query=${encodeURIComponent(query)}`);\n      if (response.ok) {\n        const data = await response.json();\n        return data.suggestions || [];\n      }\n    } catch (error) {\n      console.error('Error fetching city suggestions:', error);\n    }\n    return [];\n  };\n  useEffect(() => {\n    const middleCitiesCount = Math.max(0, numberOfCities - 2);\n    if (middleCitiesCount > middleCities.length) {\n      const newMiddleCities = [...middleCities];\n      while (newMiddleCities.length < middleCitiesCount) {\n        newMiddleCities.push({\n          name: '',\n          days: 0\n        });\n      }\n      setMiddleCities(newMiddleCities);\n      setMiddleCitySuggestions(prev => {\n        const newSuggestions = [...prev];\n        while (newSuggestions.length < middleCitiesCount) {\n          newSuggestions.push([]);\n        }\n        return newSuggestions;\n      });\n    } else if (middleCitiesCount < middleCities.length) {\n      setMiddleCities(middleCities.slice(0, middleCitiesCount));\n      setMiddleCitySuggestions(prev => prev.slice(0, middleCitiesCount));\n    }\n  }, [numberOfCities, middleCities.length]);\n  useEffect(() => {\n    const total = middleCities.reduce((sum, city) => sum + city.days, 0);\n    setTotalDays(total);\n    if (startDate && total > 0) {\n      const start = new Date(startDate);\n      const end = new Date(start);\n      end.setDate(start.getDate() + total);\n      setEndDate(end.toISOString().split('T')[0]);\n    }\n  }, [middleCities, startDate]);\n  const handleStartCityChange = async value => {\n    setStartCity(value);\n    if (startCityTimeoutRef.current) {\n      clearTimeout(startCityTimeoutRef.current);\n    }\n    if (value.length < 2) {\n      setStartCitySuggestions([]);\n      return;\n    }\n    startCityTimeoutRef.current = setTimeout(async () => {\n      const suggestions = await fetchCitySuggestions(value);\n      setStartCitySuggestions(suggestions);\n    }, 300);\n  };\n  const handleEndCityChange = async value => {\n    setEndCity(value);\n    if (endCityTimeoutRef.current) {\n      clearTimeout(endCityTimeoutRef.current);\n    }\n    if (value.length < 2) {\n      setEndCitySuggestions([]);\n      return;\n    }\n    endCityTimeoutRef.current = setTimeout(async () => {\n      const suggestions = await fetchCitySuggestions(value);\n      setEndCitySuggestions(suggestions);\n    }, 300);\n  };\n  const handleMiddleCityChange = async (value, index) => {\n    const newMiddleCities = [...middleCities];\n    newMiddleCities[index].name = value;\n    setMiddleCities(newMiddleCities);\n    if (middleCityTimeoutRefs.current[index]) {\n      clearTimeout(middleCityTimeoutRefs.current[index]);\n      middleCityTimeoutRefs.current[index] = null;\n    }\n    if (value.length < 2) {\n      const newSuggestions = [...middleCitySuggestions];\n      newSuggestions[index] = [];\n      setMiddleCitySuggestions(newSuggestions);\n      return;\n    }\n    middleCityTimeoutRefs.current[index] = setTimeout(async () => {\n      const suggestions = await fetchCitySuggestions(value);\n      const newSuggestions = [...middleCitySuggestions];\n      newSuggestions[index] = suggestions;\n      setMiddleCitySuggestions(newSuggestions);\n    }, 300);\n  };\n  const handleMiddleDaysChange = (days, index) => {\n    const newMiddleCities = [...middleCities];\n    newMiddleCities[index].days = days;\n    setMiddleCities(newMiddleCities);\n  };\n  const selectCity = (city, type, index) => {\n    if (type === 'start') {\n      setStartCity(city);\n      setStartCitySuggestions([]);\n    } else if (type === 'end') {\n      setEndCity(city);\n      setEndCitySuggestions([]);\n    } else if (type === 'middle' && index !== undefined) {\n      const newMiddleCities = [...middleCities];\n      newMiddleCities[index].name = city;\n      setMiddleCities(newMiddleCities);\n      const newSuggestions = [...middleCitySuggestions];\n      newSuggestions[index] = [];\n      setMiddleCitySuggestions(newSuggestions);\n    }\n  };\n  const extractIataCode = displayText => {\n    const match = displayText.match(/\\(([A-Z]{3})\\)/);\n    return match ? match[1] : displayText;\n  };\n  const handleStartDateChange = date => {\n    setStartDate(date);\n    if (date && numberOfCities === 2) {\n      setEndDate(date);\n    } else if (date && totalDays > 0) {\n      const start = new Date(date);\n      const end = new Date(start);\n      end.setDate(start.getDate() + totalDays);\n      setEndDate(end.toISOString().split('T')[0]);\n    }\n  };\n  const getMinDate = () => {\n    return new Date().toISOString().split('T')[0];\n  };\n  const getMaxDate = () => {\n    const maxDate = new Date();\n    maxDate.setFullYear(maxDate.getFullYear() + 1);\n    return maxDate.toISOString().split('T')[0];\n  };\n  const handleSearch = async () => {\n    if (!startCity || !endCity) {\n      alert('Please enter both start and end cities');\n      return;\n    }\n    if (numberOfCities > 2 && totalDays === 0) {\n      alert('Please set stay durations for your middle cities');\n      return;\n    }\n    if (!startDate || !endDate) {\n      alert('Please select your travel dates');\n      return;\n    }\n    if (numberOfCities > 2) {\n      const start = new Date(startDate);\n      const end = new Date(endDate);\n      const actualDays = Math.ceil((end.getTime() - start.getTime()) / (1000 * 60 * 60 * 24));\n      if (actualDays !== totalDays) {\n        alert(`Date range (${actualDays} days) must match total trip days (${totalDays} days)`);\n        return;\n      }\n    }\n    const processedStartCity = extractIataCode(startCity);\n    const processedEndCity = extractIataCode(endCity);\n    const processedMiddleCities = middleCities.filter(city => city.name.trim() !== '').map(city => ({\n      ...city,\n      name: extractIataCode(city.name)\n    }));\n    const data = {\n      startCity: processedStartCity,\n      endCity: processedEndCity,\n      middleCities: processedMiddleCities,\n      totalDays: numberOfCities === 2 ? 0 : totalDays,\n      startDate,\n      endDate,\n      adults,\n      children,\n      infants\n    };\n    setIsLoading(true);\n    try {\n      const response = await fetch('http://localhost:8000/optimize', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          start_city: processedStartCity,\n          end_city: processedEndCity,\n          middle_cities: processedMiddleCities,\n          total_days: numberOfCities === 2 ? 0 : totalDays,\n          start_date: startDate,\n          end_date: endDate,\n          adults: adults,\n          children: children,\n          infants: infants\n        })\n      });\n      const apiResults = await response.json();\n      setSearchData({\n        ...data,\n        apiResults: apiResults\n      });\n      setCurrentPage('results');\n    } catch (error) {\n      console.error('Error calling FastAPI:', error);\n      setSearchData({\n        ...data,\n        apiResults: []\n      });\n      setCurrentPage('results');\n    } finally {\n      setIsLoading(false);\n    }\n  };\n  useEffect(() => {\n    return () => {\n      if (startCityTimeoutRef.current) {\n        clearTimeout(startCityTimeoutRef.current);\n      }\n      if (endCityTimeoutRef.current) {\n        clearTimeout(endCityTimeoutRef.current);\n      }\n      Object.values(middleCityTimeoutRefs.current).forEach(timeout => {\n        if (timeout) {\n          clearTimeout(timeout);\n        }\n      });\n    };\n  }, []);\n  if (currentPage === 'results' && searchData) {\n    return /*#__PURE__*/_jsxDEV(ResultsPage, {\n      searchData: searchData,\n      onNewSearch: () => setCurrentPage('search')\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 313,\n      columnNumber: 12\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"header\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"logo\",\n        children: \"Airplane\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 319,\n        columnNumber: 9\n      }, this), isLoading && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"loading-notice\",\n        children: \"Finding optimal routes...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 321,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 318,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"search-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Find Your Optimal Travel Route\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 328,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"search-row\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"input-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Total Cities\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 332,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            value: numberOfCities,\n            onChange: e => setNumberOfCities(Number(e.target.value)),\n            children: [2, 3, 4, 5, 6].map(num => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: num,\n              children: [num, \" cities\"]\n            }, num, true, {\n              fileName: _jsxFileName,\n              lineNumber: 338,\n              columnNumber: 17\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 333,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 331,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"input-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Start City\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 344,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"autocomplete-container\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              placeholder: \"e.g., London\",\n              value: startCity,\n              onChange: e => handleStartCityChange(e.target.value),\n              disabled: isLoading\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 346,\n              columnNumber: 15\n            }, this), startCitySuggestions.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"suggestions-dropdown\",\n              children: startCitySuggestions.map((city, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"suggestion-item\",\n                onClick: () => selectCity(city, 'start'),\n                children: city\n              }, index, false, {\n                fileName: _jsxFileName,\n                lineNumber: 356,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 354,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 345,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 343,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"input-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"End City\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 370,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"autocomplete-container\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              placeholder: \"e.g., Paris\",\n              value: endCity,\n              onChange: e => handleEndCityChange(e.target.value),\n              disabled: isLoading\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 372,\n              columnNumber: 15\n            }, this), endCitySuggestions.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"suggestions-dropdown\",\n              children: endCitySuggestions.map((city, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"suggestion-item\",\n                onClick: () => selectCity(city, 'end'),\n                children: city\n              }, index, false, {\n                fileName: _jsxFileName,\n                lineNumber: 382,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 380,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 371,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 369,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 330,\n        columnNumber: 9\n      }, this), numberOfCities > 2 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"search-row\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"input-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Cities Between & Stay Duration\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 399,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"cities-container\",\n            children: middleCities.map((city, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"city-with-days\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"autocomplete-container\",\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  placeholder: `City ${index + 1}`,\n                  value: city.name,\n                  onChange: e => handleMiddleCityChange(e.target.value, index),\n                  disabled: isLoading\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 404,\n                  columnNumber: 23\n                }, this), middleCitySuggestions[index] && middleCitySuggestions[index].length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"suggestions-dropdown\",\n                  children: middleCitySuggestions[index].map((cityName, cityIndex) => /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"suggestion-item\",\n                    onClick: () => selectCity(cityName, 'middle', index),\n                    children: cityName\n                  }, cityIndex, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 414,\n                    columnNumber: 29\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 412,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 403,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"days-input\",\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"number\",\n                  min: \"0\",\n                  max: \"30\",\n                  value: city.days,\n                  onChange: e => handleMiddleDaysChange(Number(e.target.value), index),\n                  className: \"number-input small\",\n                  disabled: isLoading\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 426,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"days\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 435,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 425,\n                columnNumber: 21\n              }, this)]\n            }, index, true, {\n              fileName: _jsxFileName,\n              lineNumber: 402,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 400,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"total-days\",\n            children: [\"Total trip days: \", /*#__PURE__*/_jsxDEV(\"strong\", {\n              children: totalDays\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 441,\n              columnNumber: 34\n            }, this), totalDays === 0 && /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"warning\",\n              children: \" (Set days for each city)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 442,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 440,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 398,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 397,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"search-row\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"input-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Start Date\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 450,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"date\",\n            value: startDate,\n            onChange: e => handleStartDateChange(e.target.value),\n            min: getMinDate(),\n            max: getMaxDate(),\n            disabled: isLoading\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 451,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 449,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"input-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"End Date\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 462,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"date\",\n            value: endDate,\n            onChange: e => setEndDate(e.target.value),\n            min: startDate || getMinDate(),\n            max: getMaxDate(),\n            readOnly: numberOfCities > 2,\n            disabled: isLoading\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 463,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"date-info\",\n            children: numberOfCities === 2 ? 'Direct flight (same day)' : totalDays > 0 ? `${totalDays} days total` : 'Set days first'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 472,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 461,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"input-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Passengers\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 479,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"passenger-selectors\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"passenger-type\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Adults:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 482,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                value: adults,\n                onChange: e => setAdults(Number(e.target.value)),\n                disabled: isLoading,\n                children: [1, 2, 3, 4, 5, 6, 7, 8].map(num => /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: num,\n                  children: num\n                }, num, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 485,\n                  columnNumber: 21\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 483,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 481,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"passenger-type\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Children:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 490,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                value: children,\n                onChange: e => setChildren(Number(e.target.value)),\n                disabled: isLoading,\n                children: [0, 1, 2, 3, 4, 5, 6].map(num => /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: num,\n                  children: num\n                }, num, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 493,\n                  columnNumber: 21\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 491,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 489,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"passenger-type\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Infants:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 498,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                value: infants,\n                onChange: e => setInfants(Number(e.target.value)),\n                disabled: isLoading,\n                children: [0, 1, 2, 3].map(num => /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: num,\n                  children: num\n                }, num, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 501,\n                  columnNumber: 21\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 499,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 497,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 480,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 478,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: `search-button ${isLoading ? 'disabled' : ''}`,\n          onClick: handleSearch,\n          disabled: isLoading,\n          children: isLoading ? 'Finding Routes...' : 'Find Optimal Route'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 508,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 448,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 327,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 317,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"xzsLsEt4iyxL/jJwgnFUBJAp9bQ=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","useRef","ResultsPage","jsxDEV","_jsxDEV","App","_s","numberOfCities","setNumberOfCities","startCity","setStartCity","endCity","setEndCity","middleCities","setMiddleCities","totalDays","setTotalDays","startDate","setStartDate","endDate","setEndDate","adults","setAdults","children","setChildren","infants","setInfants","currentPage","setCurrentPage","searchData","setSearchData","isLoading","setIsLoading","startCitySuggestions","setStartCitySuggestions","endCitySuggestions","setEndCitySuggestions","middleCitySuggestions","setMiddleCitySuggestions","startCityTimeoutRef","endCityTimeoutRef","middleCityTimeoutRefs","fetchCitySuggestions","query","length","response","fetch","encodeURIComponent","ok","data","json","suggestions","error","console","middleCitiesCount","Math","max","newMiddleCities","push","name","days","prev","newSuggestions","slice","total","reduce","sum","city","start","Date","end","setDate","getDate","toISOString","split","handleStartCityChange","value","current","clearTimeout","setTimeout","handleEndCityChange","handleMiddleCityChange","index","handleMiddleDaysChange","selectCity","type","undefined","extractIataCode","displayText","match","handleStartDateChange","date","getMinDate","getMaxDate","maxDate","setFullYear","getFullYear","handleSearch","alert","actualDays","ceil","getTime","processedStartCity","processedEndCity","processedMiddleCities","filter","trim","map","method","headers","body","JSON","stringify","start_city","end_city","middle_cities","total_days","start_date","end_date","apiResults","Object","values","forEach","timeout","onNewSearch","fileName","_jsxFileName","lineNumber","columnNumber","className","onChange","e","Number","target","num","placeholder","disabled","onClick","cityName","cityIndex","min","readOnly","_c","$RefreshReg$"],"sources":["/home/paq/Desktop/Projetcs/airplane/frontend/src/App.tsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport './App.css';\nimport ResultsPage from './ResultsPage';\n\ninterface CityWithDays {\n  name: string;\n  days: number;\n}\n\ninterface SearchData {\n  startCity: string;\n  endCity: string;\n  middleCities: CityWithDays[];\n  totalDays: number;\n  startDate: string;\n  endDate: string;\n  adults: number;\n  children: number;\n  infants: number;\n  apiResults?: any[];\n}\n\nfunction App() {\n  const [numberOfCities, setNumberOfCities] = useState(2);\n  const [startCity, setStartCity] = useState('');\n  const [endCity, setEndCity] = useState('');\n  const [middleCities, setMiddleCities] = useState<CityWithDays[]>([]);\n  const [totalDays, setTotalDays] = useState(0);\n  const [startDate, setStartDate] = useState('');\n  const [endDate, setEndDate] = useState('');\n  const [adults, setAdults] = useState(1);\n  const [children, setChildren] = useState(0);\n  const [infants, setInfants] = useState(0);\n     \n  const [currentPage, setCurrentPage] = useState<'search' | 'results'>('search');\n  const [searchData, setSearchData] = useState<SearchData | null>(null);\n  const [isLoading, setIsLoading] = useState(false);\n\n  const [startCitySuggestions, setStartCitySuggestions] = useState<string[]>([]);\n  const [endCitySuggestions, setEndCitySuggestions] = useState<string[]>([]);\n  const [middleCitySuggestions, setMiddleCitySuggestions] = useState<string[][]>([[]]);\n  \n  const startCityTimeoutRef = useRef<NodeJS.Timeout | null>(null);\n  const endCityTimeoutRef = useRef<NodeJS.Timeout | null>(null);\n  const middleCityTimeoutRefs = useRef<{[key: number]: NodeJS.Timeout | null}>({});\n\n  const fetchCitySuggestions = async (query: string): Promise<string[]> => {\n    if (query.length < 2) return [];\n    \n    try {\n      const response = await fetch(`http://localhost:8000/api/city-suggestions?query=${encodeURIComponent(query)}`);\n      if (response.ok) {\n        const data = await response.json();\n        return data.suggestions || [];\n      }\n    } catch (error) {\n      console.error('Error fetching city suggestions:', error);\n    }\n    return [];\n  };\n\n  useEffect(() => {\n    const middleCitiesCount = Math.max(0, numberOfCities - 2);\n    if (middleCitiesCount > middleCities.length) {\n      const newMiddleCities = [...middleCities];\n      while (newMiddleCities.length < middleCitiesCount) {\n        newMiddleCities.push({ name: '', days: 0 });\n      }\n      setMiddleCities(newMiddleCities);\n      setMiddleCitySuggestions(prev => {\n        const newSuggestions = [...prev];\n        while (newSuggestions.length < middleCitiesCount) {\n          newSuggestions.push([]);\n        }\n        return newSuggestions;\n      });\n    } else if (middleCitiesCount < middleCities.length) {\n      setMiddleCities(middleCities.slice(0, middleCitiesCount));\n      setMiddleCitySuggestions(prev => prev.slice(0, middleCitiesCount));\n    }\n  }, [numberOfCities, middleCities.length]);\n     \n  useEffect(() => {\n    const total = middleCities.reduce((sum, city) => sum + city.days, 0);\n    setTotalDays(total);\n    \n    if (startDate && total > 0) {\n      const start = new Date(startDate);\n      const end = new Date(start);\n      end.setDate(start.getDate() + total);\n      setEndDate(end.toISOString().split('T')[0]);\n    }\n  }, [middleCities, startDate]);\n\n  const handleStartCityChange = async (value: string) => {\n    setStartCity(value);\n    \n    if (startCityTimeoutRef.current) {\n      clearTimeout(startCityTimeoutRef.current);\n    }\n    \n    if (value.length < 2) {\n      setStartCitySuggestions([]);\n      return;\n    }\n    \n    startCityTimeoutRef.current = setTimeout(async () => {\n      const suggestions = await fetchCitySuggestions(value);\n      setStartCitySuggestions(suggestions);\n    }, 300);\n  };\n\n  const handleEndCityChange = async (value: string) => {\n    setEndCity(value);\n    \n    if (endCityTimeoutRef.current) {\n      clearTimeout(endCityTimeoutRef.current);\n    }\n    \n    if (value.length < 2) {\n      setEndCitySuggestions([]);\n      return;\n    }\n    \n    endCityTimeoutRef.current = setTimeout(async () => {\n      const suggestions = await fetchCitySuggestions(value);\n      setEndCitySuggestions(suggestions);\n    }, 300);\n  };\n\n  const handleMiddleCityChange = async (value: string, index: number) => {\n    const newMiddleCities = [...middleCities];\n    newMiddleCities[index].name = value;\n    setMiddleCities(newMiddleCities);\n\n    if (middleCityTimeoutRefs.current[index]) {\n      clearTimeout(middleCityTimeoutRefs.current[index]!);\n      middleCityTimeoutRefs.current[index] = null;\n    }\n    \n    if (value.length < 2) {\n      const newSuggestions = [...middleCitySuggestions];\n      newSuggestions[index] = [];\n      setMiddleCitySuggestions(newSuggestions);\n      return;\n    }\n    \n    middleCityTimeoutRefs.current[index] = setTimeout(async () => {\n      const suggestions = await fetchCitySuggestions(value);\n      const newSuggestions = [...middleCitySuggestions];\n      newSuggestions[index] = suggestions;\n      setMiddleCitySuggestions(newSuggestions);\n    }, 300);\n  };\n\n  const handleMiddleDaysChange = (days: number, index: number) => {\n    const newMiddleCities = [...middleCities];\n    newMiddleCities[index].days = days;\n    setMiddleCities(newMiddleCities);\n  };\n\n  const selectCity = (city: string, type: 'start' | 'end' | 'middle', index?: number) => {\n    if (type === 'start') {\n      setStartCity(city);\n      setStartCitySuggestions([]);\n    } else if (type === 'end') {\n      setEndCity(city);\n      setEndCitySuggestions([]);\n    } else if (type === 'middle' && index !== undefined) {\n      const newMiddleCities = [...middleCities];\n      newMiddleCities[index].name = city;\n      setMiddleCities(newMiddleCities);\n      \n      const newSuggestions = [...middleCitySuggestions];\n      newSuggestions[index] = [];\n      setMiddleCitySuggestions(newSuggestions);\n    }\n  };\n\n  const extractIataCode = (displayText: string): string => {\n    const match = displayText.match(/\\(([A-Z]{3})\\)/);\n    return match ? match[1] : displayText;\n  };\n\n  const handleStartDateChange = (date: string) => {\n    setStartDate(date);\n    if (date && numberOfCities === 2) {\n      setEndDate(date);\n    } else if (date && totalDays > 0) {\n      const start = new Date(date);\n      const end = new Date(start);\n      end.setDate(start.getDate() + totalDays);\n      setEndDate(end.toISOString().split('T')[0]);\n    }\n  };\n\n  const getMinDate = () => {\n    return new Date().toISOString().split('T')[0];\n  };\n\n  const getMaxDate = () => {\n    const maxDate = new Date();\n    maxDate.setFullYear(maxDate.getFullYear() + 1);\n    return maxDate.toISOString().split('T')[0];\n  };\n\n  const handleSearch = async () => {\n    if (!startCity || !endCity) {\n      alert('Please enter both start and end cities');\n      return;\n    }\n\n    if (numberOfCities > 2 && totalDays === 0) {\n      alert('Please set stay durations for your middle cities');\n      return;\n    }\n\n    if (!startDate || !endDate) {\n      alert('Please select your travel dates');\n      return;\n    }\n\n    if (numberOfCities > 2) {\n      const start = new Date(startDate);\n      const end = new Date(endDate);\n      const actualDays = Math.ceil((end.getTime() - start.getTime()) / (1000 * 60 * 60 * 24));\n      \n      if (actualDays !== totalDays) {\n        alert(`Date range (${actualDays} days) must match total trip days (${totalDays} days)`);\n        return;\n      }\n    }\n\n    const processedStartCity = extractIataCode(startCity);\n    const processedEndCity = extractIataCode(endCity);\n    const processedMiddleCities = middleCities\n      .filter(city => city.name.trim() !== '')\n      .map(city => ({\n        ...city,\n        name: extractIataCode(city.name)\n      }));\n\n    const data: SearchData = {\n      startCity: processedStartCity,\n      endCity: processedEndCity,\n      middleCities: processedMiddleCities,\n      totalDays: numberOfCities === 2 ? 0 : totalDays,\n      startDate,\n      endDate,\n      adults,\n      children,\n      infants\n    };\n    \n    setIsLoading(true);\n    \n    try {\n      const response = await fetch('http://localhost:8000/optimize', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({\n          start_city: processedStartCity,\n          end_city: processedEndCity,\n          middle_cities: processedMiddleCities,\n          total_days: numberOfCities === 2 ? 0 : totalDays,\n          start_date: startDate,\n          end_date: endDate,\n          adults: adults,\n          children: children,\n          infants: infants\n        })\n      });\n      \n      const apiResults = await response.json();\n      \n      setSearchData({\n        ...data,\n        apiResults: apiResults\n      });\n      setCurrentPage('results');\n      \n    } catch (error) {\n      console.error('Error calling FastAPI:', error);\n      setSearchData({\n        ...data,\n        apiResults: []\n      });\n      setCurrentPage('results');\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    return () => {\n      if (startCityTimeoutRef.current) {\n        clearTimeout(startCityTimeoutRef.current);\n      }\n      if (endCityTimeoutRef.current) {\n        clearTimeout(endCityTimeoutRef.current);\n      }\n      Object.values(middleCityTimeoutRefs.current).forEach(timeout => {\n        if (timeout) {\n          clearTimeout(timeout);\n        }\n      });\n    };\n  }, []);\n\n  if (currentPage === 'results' && searchData) {\n    return <ResultsPage searchData={searchData} onNewSearch={() => setCurrentPage('search')} />;\n  }\n\n  return (\n    <div className=\"App\">\n      <header className=\"header\">\n        <div className=\"logo\">Airplane</div>\n        {isLoading && (\n          <div className=\"loading-notice\">\n            Finding optimal routes...\n          </div>\n        )}\n      </header>\n\n      <div className=\"search-container\">\n        <h2>Find Your Optimal Travel Route</h2>\n        \n        <div className=\"search-row\">\n          <div className=\"input-group\">\n            <label>Total Cities</label>\n            <select \n              value={numberOfCities} \n              onChange={(e) => setNumberOfCities(Number(e.target.value))}\n            >\n              {[2, 3, 4, 5, 6].map(num => (\n                <option key={num} value={num}>{num} cities</option>\n              ))}\n            </select>\n          </div>\n\n          <div className=\"input-group\">\n            <label>Start City</label>\n            <div className=\"autocomplete-container\">\n              <input \n                type=\"text\" \n                placeholder=\"e.g., London\"\n                value={startCity}\n                onChange={(e) => handleStartCityChange(e.target.value)}\n                disabled={isLoading}\n              />\n              {startCitySuggestions.length > 0 && (\n                <div className=\"suggestions-dropdown\">\n                  {startCitySuggestions.map((city, index) => (\n                    <div \n                      key={index} \n                      className=\"suggestion-item\"\n                      onClick={() => selectCity(city, 'start')}\n                    >\n                      {city}\n                    </div>\n                  ))}\n                </div>\n              )}\n            </div>\n          </div>\n\n          <div className=\"input-group\">\n            <label>End City</label>\n            <div className=\"autocomplete-container\">\n              <input \n                type=\"text\" \n                placeholder=\"e.g., Paris\" \n                value={endCity}\n                onChange={(e) => handleEndCityChange(e.target.value)}\n                disabled={isLoading}\n              />\n              {endCitySuggestions.length > 0 && (\n                <div className=\"suggestions-dropdown\">\n                  {endCitySuggestions.map((city, index) => (\n                    <div \n                      key={index} \n                      className=\"suggestion-item\"\n                      onClick={() => selectCity(city, 'end')}\n                    >\n                      {city}\n                    </div>\n                  ))}\n                </div>\n              )}\n            </div>\n          </div>\n        </div>\n\n        {numberOfCities > 2 && (\n          <div className=\"search-row\">\n            <div className=\"input-group\">\n              <label>Cities Between & Stay Duration</label>\n              <div className=\"cities-container\">\n                {middleCities.map((city, index) => (\n                  <div key={index} className=\"city-with-days\">\n                    <div className=\"autocomplete-container\">\n                      <input \n                        type=\"text\" \n                        placeholder={`City ${index + 1}`}\n                        value={city.name}\n                        onChange={(e) => handleMiddleCityChange(e.target.value, index)}\n                        disabled={isLoading}\n                      />\n                      {middleCitySuggestions[index] && middleCitySuggestions[index].length > 0 && (\n                        <div className=\"suggestions-dropdown\">\n                          {middleCitySuggestions[index].map((cityName, cityIndex) => (\n                            <div \n                              key={cityIndex} \n                              className=\"suggestion-item\"\n                              onClick={() => selectCity(cityName, 'middle', index)}\n                            >\n                              {cityName}\n                            </div>\n                          ))}\n                        </div>\n                      )}\n                    </div>\n                    <div className=\"days-input\">\n                      <input\n                        type=\"number\"\n                        min=\"0\"\n                        max=\"30\"\n                        value={city.days}\n                        onChange={(e) => handleMiddleDaysChange(Number(e.target.value), index)}\n                        className=\"number-input small\"\n                        disabled={isLoading}\n                      />\n                      <span>days</span>\n                    </div>\n                  </div>\n                ))}\n              </div>\n              <div className=\"total-days\">\n                Total trip days: <strong>{totalDays}</strong>\n                {totalDays === 0 && <span className=\"warning\"> (Set days for each city)</span>}\n              </div>\n            </div>\n          </div>\n        )}\n\n        <div className=\"search-row\">\n          <div className=\"input-group\">\n            <label>Start Date</label>\n            <input \n              type=\"date\" \n              value={startDate}\n              onChange={(e) => handleStartDateChange(e.target.value)}\n              min={getMinDate()}\n              max={getMaxDate()}\n              disabled={isLoading}\n            />\n          </div>\n\n          <div className=\"input-group\">\n            <label>End Date</label>\n            <input \n              type=\"date\" \n              value={endDate}\n              onChange={(e) => setEndDate(e.target.value)}\n              min={startDate || getMinDate()}\n              max={getMaxDate()}\n              readOnly={numberOfCities > 2}\n              disabled={isLoading}\n            />\n            <div className=\"date-info\">\n              {numberOfCities === 2 ? 'Direct flight (same day)' : \n               totalDays > 0 ? `${totalDays} days total` : 'Set days first'}\n            </div>\n          </div>\n\n          <div className=\"input-group\">\n            <label>Passengers</label>\n            <div className=\"passenger-selectors\">\n              <div className=\"passenger-type\">\n                <span>Adults:</span>\n                <select value={adults} onChange={(e) => setAdults(Number(e.target.value))} disabled={isLoading}>\n                  {[1, 2, 3, 4, 5, 6, 7, 8].map(num => (\n                    <option key={num} value={num}>{num}</option>\n                  ))}\n                </select>\n              </div>\n              <div className=\"passenger-type\">\n                <span>Children:</span>\n                <select value={children} onChange={(e) => setChildren(Number(e.target.value))} disabled={isLoading}>\n                  {[0, 1, 2, 3, 4, 5, 6].map(num => (\n                    <option key={num} value={num}>{num}</option>\n                  ))}\n                </select>\n              </div>\n              <div className=\"passenger-type\">\n                <span>Infants:</span>\n                <select value={infants} onChange={(e) => setInfants(Number(e.target.value))} disabled={isLoading}>\n                  {[0, 1, 2, 3].map(num => (\n                    <option key={num} value={num}>{num}</option>\n                  ))}\n                </select>\n              </div>\n            </div>\n          </div>\n\n          <button \n            className={`search-button ${isLoading ? 'disabled' : ''}`} \n            onClick={handleSearch}\n            disabled={isLoading}\n          >\n            {isLoading ? 'Finding Routes...' : 'Find Optimal Route'}\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}